## Basic
Direct Light : 빛이 광원에서 오브젝트로 직접 닿는 경우<br>
Indirect Light : 빛이 반사 또는 산란되어 오브젝트에 닿는 경우<br>

**조명 구성요소**<br>
1. 기본광 : Directional, Point, Spot, Area Light..<br>
-> Area는 Bake해야만 조명효과가 나타남.(간접 조명에 적합)<br>

2. 환경광(Ambient Light) : 씬의 모든 오브젝트를 비춘다.<br>

3. Emissive Surface : 메터리얼의 발광효과.<br>

4. Probes : Light Probes, Reflection Probes..<br>
<br>
<br>

**조명 설정**<br>
1. **Realtime(실시간)** : 실시간 라이팅 연산. 성능에 가장 큰 영향을 준다.<br>
-> **직접 광원**만 적용하고 간접 광원과는 관계가 없다.<br>
-> 다른 조명과 연관없이 단독으로 적용되기에 반사광 효과도 없으며 따라서 실시간 조명으로 생기는 그림자는 
검은색으로 표현된다.<br> 
(Realtime GI 옵션을 체크해야 함)<br>

2. **Baked** : 미리 연산되어 저장된 라이트. 런타임상에 동적으로 움직이는 물체에는 적용 할 수 없다.<br>
-> 런타임에 업데이트되지 않으므로 씬의 동적인 변화를 반영하기 힘들다.(**모바일에 적합**)<br>
-> **동적 객체의 조명효과는 Light Probe**를 통해 적용해야 한다.<br>

3. **Mixed** : Baked와 Realtime 모드 혼합. **라이트맵 + 동적인 오브젝트**에도 라이트 적용하고자 할때<br>
<br>
<br>

**Mixed Lighting Mode**<br>
1. **Baked Indirect** : 간접 광원만 미리 계산해서 베이크 처리한다. (그림자 x)<br>
-> Mixed 모드 조명의 직접 광원은 실시간 조명의 기능을 유지한다.<br>
-> static 처리된 건물과 캐릭터의 그림자가 실시간으로 처리된다.<br>
-> **즉, 그림자와 직접 광원은 실시간으로 처리하고 GI만 미리 연산해놓고 싶은 경우 이 모드를 사용한다.**<br>
-> 그림자가 중요하다면 사용하고 Directional light의 그림자는 처리되지 않는다. (**모바일 부적합**)<br>

2. **Subtractive** : 정적 객체의 직/간접 광원, Light probe, 그림자를 모두 라이트맵에 베이크 처리한다.<br>
-> Mixed 모드 조명의 실시간 조명 기능이 유지되지 않는다. (**모바일에 적합**)<br>
-> **정통적인 라이트맵**으로 **스태틱 오브젝트에는 실시간 라이팅이 이루어지지 않게 된다.**<br>
-> 베이킹된 건물 그림자에 실시간 캐릭터 그림자가 그려지는 **부자연스러운 모습**을 보일 수 있다.<br>
-> 이는 실시간 그림자의 컬러를 조절해서 이질감을 줄여야 한다.<br>

3. **Shadowmask** : 간접 광원과 Light Probe는 라이트맵에 베이크 처리.<br>
-> Mixed 모드 조명의 직접광원은 실시간 조명 기능을 유지한다.<br>
-> 라이트맵 베이킹 시 **그림자 영역을 별도의 텍스처**로 따로 저장한다.<br>
<br>
<br>


## Light Map
라이트맵은 빛의 방향과 세기에 따라 생성되는 빛을 받는 오브젝트의 그림자, 반사면, 면의 밝기 차이 등의<br>
**라이팅 정보를 사전에 저장하는 텍스처를 의미한다.**<br>

기본적으로 플레이어가 바라보는 시야 및 씬의 환경 배치, 광원의 수와 조도 등에 따라서 화면에 출력되는 빛은<br>
시시각각 다르게 보여지게 되며, 이를 시각적으로 처리하는 연산에는 빛의 입자 정볼르 일일히 따져보아야 하는 **상당한<br>
부하가 수반된다.**<br>

고로 최대한 효율적으로 빛을 처리하고 퍼포먼스를 보장하기 위해서 고안된 방법이 라이트 정보를 미리 오브젝트의<br>
텍스처에 "라이트맵"이라는 별도의 채널로 저장하여 마치 빛을 받고있는 듯 보이게 하는 것이다.<br>

**요약하자면, 실시간으로 빛에 의한 변화를 계산하기에는 엄청난 연산과 비용을 요구하기 때문에 이를 미리 계산하여<br>
정보를 가지고있는 하나의 텍스처를 이용해 빛이 존재하는것 처럼 효과를 주는 라이팅 처리 방식이다.**<br>
<br>
<br>

**라이트 맵 적용 과정**<br>
1. 실시간 조명들의 모드를 Mixed로 설정 후 꺼 놓는다.<br>
-> 보통 실시간 조명(캐릭터 그림자)과 라이트맵을 같이 사용하는 경우가 많기 때문<br>
-> Culling Mask는 실시간 조명을 받을 대상들의 레이어만 체크해준다.<br>
-> 베이크하는 동안 실시간 조명은 필요없으니 꺼둔다.<br>
<br>

2. 라이트맵 베이크용 조명 설정<br>
-> 라이트맵 조명은 모드를 Baked로 설정하고 Culling Mask는 라이트맵을 베이크할 때 적용될<br>
오브젝트 레이어를 지정해준다.<br>
<br>

3. 라이트맵 채널 생성<br>
-> 메쉬의 모델 - Generate Lightmap UVs를 체크해 주면, 라이트맵 베이크에 필요한 UV 채널이 자동으로 생성됨.<br>
<br>

4. Static 설정<br>
-> 씬에 배치된 오브젝트 Lightmap Static or Contribute GI를 체크해준다. (라이트맵 대상을 알리는 것임.)<br>
<br>

5. Scale 확인하기<br>
-> 라이트맵 대상 오브젝트들의 Mesh Renderer에서 Lightmap Static을 체크하고 Scale 값을 조절한다.<br>
-> 기본값은 1이지만 중요하지 않은 또는 작은 오브젝트는 수치를 낮춰주는게 좋다.<br>
<br>

6. Lighting 옵션을 설정한다.<br>
-> 라이팅 모드와 라이트맵 픽셀의 밀도, 라이트맵 텍스처의 최대 크기 등을 조절<br>
<br>

7. 베이크!<br>
<br>
<br>

## Light Probe
라이트맵은 효과적이지만 동적 오브젝트에 적용되지 않는다는 한계점이 존재하는데, 이를 라이트 프로브로 보완 할 수 있다.<br>
**라이트 프로브는 라이트맵을 베이킹할 때 주변의 광원 데이터를 저장해두고 런타임 시 근처를 지나는 동적 객체에<br>
데이터를 전달해서 객체의 색상과 보간하여 마치 실시간 조명과 같은 효과를 낼 수 있다.**<br>
(미리 주변 빛의 값들을 연산해서 갖고 있기 때문에 실시간 라이팅보다 가벼울 수 밖에 없다.)<br>
<br>
<br>

